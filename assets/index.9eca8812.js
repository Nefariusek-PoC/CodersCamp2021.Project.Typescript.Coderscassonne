var bt=Object.defineProperty;var ke=Object.getOwnPropertySymbols;var xt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var Ke=(t,e,n)=>e in t?bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ye=(t,e)=>{for(var n in e||(e={}))xt.call(e,n)&&Ke(t,n,e[n]);if(ke)for(var n of ke(e))Ot.call(e,n)&&Ke(t,n,e[n]);return t};import{j as s,o as D,r as S,u as q,F as De,a as E,_ as B,m as $,b as Q,C as It,c as Mt,L as Dt,B as Lt,p as Nt,d as At,e as Pt,f as wt,g as fe,h as Ht,i as Gt,R as jt,l as Ft,k as kt,n as Kt,q as Yt,s as Bt,t as $t,H as Vt}from"./vendor.1d406af9.js";const Ut=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}};Ut();const zt="CodersCassonne",Jt="./Elements/Layout/Castle.png",Wt="./Elements/Layout/Settings.png",Zt="./Elements/Layout/Tile_board_bright.png",Xt="./Elements/Layout/Tile_board_dark.png",qt="./Elements/Layout/Tile_title.png",Qt="./Elements/Layout/Menu_tile.png",J="/",z="/gamepage",qe="/howtoplay",Qe="/credits",ue="/players",et="/gamemode",tt="/gamemode/custommode",P=({type:t="button",text:e,onClick:n,colorVariant:i="dark",disabled:a=!1})=>{const l="border border-DARKTHEME_LIGHT_GREEN_COLOR font-ALMENDRA font-bold sm:text-3xl sm:w-60 sm:py-2 sm:px-4 sm:my-2 text-2xl w-40 py-1 px-2 my-1 select-none",c=`bg-DARKTHEME_BACKGROUND_COLOR hover:bg-DARKTHEME_DARK_GREEN_COLOR text-DARKTHEME_LIGHT_GREEN_COLOR ${l}`,m=`bg-DARKTHEME_LIGHT_GREEN_COLOR hover:bg-opacity-90 text-DARKTHEME_BACKGROUND_COLOR ${l}`;return s("button",{type:t,className:i==="light"?m:c,onClick:n,disabled:a,children:e})};var H=(t=>(t.END_GAME="endGame",t.END_TURN="endTurn",t.INVALID_MOVE="invalidMove",t.SETTINGS_ON="settingsOn",t.SHOW_SCORE="showScore",t.WORK_IN_PROGRESS="workInProgress",t.DEFAULT="default",t))(H||{});const Be={endGame:["End of the game!","Main menu"],endTurn:["It's the end of your turn!","OK"],invalidMove:["Sorry, this tile can't be placed here!","Cancel"],settingsOn:["Settings","Close"],showScore:["Game scores","Main menu"],workInProgress:["Work in progress","Cancel"],default:["","Cancel"]};function ge(t){const e=new Event(t);window.dispatchEvent(e)}const ee=D(t=>{const{eventType:e,children:n}=t,[i,a]=S.exports.useState(!1),l=q(),c=Be[e][0],m=Be[e][1],g=()=>{e==="endGame"||e==="showScore"?(a(!1),l(J)):a(!1)};return S.exports.useEffect(()=>{window.addEventListener(e,()=>{a(!0)})},[]),s(De,{children:i&&s("div",{className:"bg-DARKTHEME_DARK_GREEN_COLOR opacity-95 fixed inset-0 z-50",children:s("div",{className:"flex h-screen opacity-1 justify-center items-center z-50",children:E("div",{className:"flex-col justify-center bg-DARKTHEME_BACKGROUND_COLOR py-12 px-24 border-4 border-DARKTHEME_LIGHT_GREEN_COLOR rounded-xl z-50",children:[s("div",{className:"flex justify-center font-ALMENDRA text-3xl text-DARKTHEME_LIGHT_GREEN_COLOR mb-10 z-50",children:s("p",{children:c})}),n,s("div",{className:"flex justify-center z-50",children:s(P,{type:"button",text:m,onClick:g,colorVariant:"light"})})]})})})})});var o=(t=>(t.FIELD="field",t.ROAD="road",t.CITY="city",t.GARDEN="garden",t.MONASTERY="monastery",t.TAVERN="tavern",t))(o||{}),O=(t=>(t.IDLE="idle",t.ACTIVE="active",t.TAKEN="taken",t))(O||{});const en=(t,e)=>{const n=[o.FIELD];tn(n,t,e),sn(n),rn()};function tn(t,e,n){on(e,n).forEach((a,l)=>{if(a){const c=nn(a,l);c&&(c.addTileOnUpdate(_.gameStore.tileInHand,l,a),t.push(c.type))}})}function nn(t,e){return _.projectStore.allProjects.find(n=>{var i;return n.tiles.includes(t)&&n.type===((i=_.gameStore.tileInHand)==null?void 0:i.edges[e])})}function on(t,e){var i,a,l,c;const n=new Map;return n.set("top",(i=U(t,e,"top"))==null?void 0:i.tile),n.set("right",(a=U(t,e,"right"))==null?void 0:a.tile),n.set("bottom",(l=U(t,e,"bottom"))==null?void 0:l.tile),n.set("left",(c=U(t,e,"left"))==null?void 0:c.tile),n}function sn(t){const e=_.gameStore.tileInHand,n=(a,l,c)=>_.projectStore.addNewProject(a,l,c);if(!t.includes(o.ROAD)&&e.middle.includes(o.ROAD)){const a=n(o.ROAD,e);t.push(a.type)}if(!t.includes(o.CITY)&&e.middle.includes(o.CITY)){const a=n(o.CITY,e);t.push(a.type)}if(e.middle.includes(o.MONASTERY)){const a=n(o.MONASTERY,e);t.push(a.type)}Object.entries(e.edges).filter(([a,l])=>!t.includes(l)).forEach(([a,l])=>n(l,e,a))}function rn(){const t=_.projectStore.allProjects,e=t.filter(l=>l.tiles.includes(_.gameStore.tileInHand)),n=Me(o.ROAD,e),i=Me(o.CITY,e);n.length&&$e(o.ROAD,e),i.length&&$e(o.CITY,e);const a=[...n,...i];B.pullAll(t,a)}function $e(t,e){const n=_.projectStore.addNewProject(t),{tilesToMerge:i,openEdgesToMerge:a,closedEdgesToMerge:l,meeplesToMerge:c}=an(t,e);n.tiles.push(...i),n.meeples.push(...c),t===o.CITY&&(n.openEdgesSet=a,n.closedEdgesSet=l)}function an(t,e){const n=Me(t,e),i=[],a=[],l=[],c=[];n.forEach(M=>{i.push(...M.tiles),l.push(...M.openEdgesSet),c.push(...M.closedEdgesSet),a.push(...M.meeples)});const m=new Set(i).values(),g=new Set(l),y=new Set(c),f=new Set(a).values();return{tilesToMerge:m,openEdgesToMerge:g,closedEdgesToMerge:y,meeplesToMerge:f}}function Me(t,e){return e.filter(n=>n.type===t)}function ln(t,e){const n=ce(t,e,"top"),i=ce(t,e,"bottom"),a=ce(t,e,"left");return ce(t,e,"right")&&a&&i&&n}function ce(t,e,n){var a,l;const i=U(t,e,n);return!(i&&i.state===O.TAKEN&&((a=i.tile)==null?void 0:a.edges[nt(n)])!==((l=_.gameStore.tileInHand)==null?void 0:l.edges[n]))}function nt(t){switch(t){case"left":return"right";case"right":return"left";case"bottom":return"top";case"top":return"bottom"}}const cn=(t,e)=>{de(t,e,"top"),de(t,e,"bottom"),de(t,e,"left"),de(t,e,"right")};function de(t,e,n){const i=U(t,e,n);i&&i.state===O.IDLE&&(i.state=O.ACTIVE)}const dn=new Map([["top",{row:-1,column:0}],["bottom",{row:1,column:0}],["right",{row:0,column:1}],["left",{row:0,column:-1}]]),U=(t,e,n)=>{const i=dn.get(n);if(i)return j.find(a=>a.column===e+i.column&&a.row===t+i.row)},un=(t,e)=>{let n=B.maxBy(j,"row").row,i=B.minBy(j,"row").row,a=B.minBy(j,"column").column,l=B.maxBy(j,"column").column;if(t===n){for(let c=a;c<=l;c++)j.push({row:t+1,column:c,state:O.IDLE});n+=1}if(t===i){for(let c=a;c<=l;c++)j.unshift({row:t-1,column:c,state:O.IDLE});i-=1}if(e===l){for(let c=i;c<=n;c++)j.push({row:c,column:e+1,state:O.IDLE});l+=1}if(e===a){for(let c=i;c<=n;c++)j.push({row:c,column:e-1,state:O.IDLE});a-=1}};class pn{constructor(e,n,i){this.meeples=[],this.id=_.projectStore.allProjects.length,this.tiles=[],this.type=e,this.isFinished=!1,this.openEdgesSet=new Set,this.closedEdgesSet=new Set,n&&this.addTileOnCreation(n,i),$(this)}get owner(){const e=this.meeples.reduce((n,i,a,l)=>l.filter(c=>c.player===n.player).length>=l.filter(c=>c.player===i.player).length?n:i,this.meeples[0]);return e==null?void 0:e.player}get currentScore(){let e;switch(this.type){case(o.ROAD||o.MONASTERY||o.GARDEN):e=this.tiles.length;break;case o.CITY:e=this.tiles.reduce((n,i)=>i.isSpecial?n+2:n+1,0),e=this.isFinishable?e*2:e;break;default:e=0;break}return e}addMeeple(){var n;const e=(n=_.playersStore.getCurrentPlayer())==null?void 0:n.getMeeple();return e&&(this.meeples.push(e),e.placedAt=this.type),e}finishProject(){this.owner.updateScore(this.currentScore),this.meeples.forEach(e=>e.player.returnMeeple(e)),this.meeples.length=0,this.isFinished=!0}scoreUnfinishedProject(){this.owner&&(this.owner.updateScore(this.currentScore),this.meeples.forEach(e=>e.player.returnMeeple(e)),this.meeples.length=0)}get isFinishable(){return this.type===o.ROAD?this.checkIfRoadProjectIsFinishable():this.type===o.CITY?this.checkIfCityProjectIsFinishable():this.type===o.MONASTERY?this.checkIfMonasteryProjectIsFinishable():!1}checkIfRoadProjectIsFinishable(){return this.tiles.filter(n=>!n.middle.includes(o.ROAD)).length===2}checkIfCityProjectIsFinishable(){return new Set([...this.closedEdgesSet,...this.openEdgesSet]).size===this.closedEdgesSet.size}checkIfMonasteryProjectIsFinishable(){return this.tiles.length===9}addTileOnUpdate(e,n,i){this.tiles.push(e);const a=nt(n),l=`${i.id}|${a}`;this.openEdgesSet.delete(l),this.closedEdgesSet.add(l),this.closedEdgesSet.add(`${e.id}|${n}`),this.type===o.CITY&&Object.entries(e.edges).forEach(([c,m])=>{m===o.CITY&&c!==n&&!this.closedEdgesSet.has(`${e.id}|${c}`)&&this.openEdgesSet.add(`${e.id}|${c}`),m===o.CITY&&c===n&&this.closedEdgesSet.add(`${e.id}|${c}`)})}addTileOnCreation(e,n){this.tiles.push(e),this.type===o.CITY&&!e.middle.includes(o.CITY)?this.openEdgesSet.add(`${e.id}|${n}`):this.type===o.CITY&&e.middle.includes(o.CITY)&&Object.entries(e.edges).forEach(([i,a])=>{a===o.CITY&&this.openEdgesSet.add(`${e.id}|${i}`)})}}class hn{constructor(e){this.allProjects=[],this.rootStore=e,$(this)}addNewProject(e,n,i){const a=new pn(e,n,i);return this.allProjects.push(a),a}get availableProjects(){const e=this.rootStore.gameStore.recentlyPlacedTile;if(e)return this.allProjects.filter(n=>n.tiles.includes(e)&&n.meeples.length===0)}initProjectStore(){this.allProjects=[]}}const Ve=[{id:"001",name:"Road_1",imageSource:"./Elements/Tiles/Roads/Road_1.png",top:o.FIELD,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.FIELD,isSpecial:!1},{id:"002",name:"Road_2",imageSource:"./Elements/Tiles/Roads/Road_2.png",top:o.FIELD,left:o.FIELD,middle:[o.ROAD],right:o.ROAD,bottom:o.ROAD,isSpecial:!1},{id:"003",name:"Road_3",imageSource:"./Elements/Tiles/Roads/Road_3.png",top:o.FIELD,left:o.FIELD,middle:[o.MONASTERY],right:o.FIELD,bottom:o.ROAD,isSpecial:!1},{id:"004",name:"Road_4",imageSource:"./Elements/Tiles/Roads/Road_4.png",top:o.ROAD,left:o.ROAD,middle:[o.TAVERN],right:o.ROAD,bottom:o.ROAD,isSpecial:!1},{id:"005",name:"City_1",imageSource:"./Elements/Tiles/City/City_1.png",top:o.CITY,left:o.ROAD,middle:[o.ROAD],right:o.ROAD,bottom:o.FIELD,isSpecial:!1},{id:"006",name:"City_2",imageSource:"./Elements/Tiles/City/City_2.png",top:o.CITY,left:o.ROAD,middle:[o.ROAD],right:o.FIELD,bottom:o.ROAD,isSpecial:!1},{id:"007",name:"City_3",imageSource:"./Elements/Tiles/City/City_3.png",top:o.CITY,left:o.FIELD,middle:[o.ROAD],right:o.ROAD,bottom:o.ROAD,isSpecial:!1},{id:"008",name:"City_4",imageSource:"./Elements/Tiles/City/City_4.png",top:o.CITY,left:o.ROAD,middle:[o.TAVERN],right:o.ROAD,bottom:o.ROAD,isSpecial:!1},{id:"009",name:"City_5",imageSource:"./Elements/Tiles/City/City_5.png",top:o.CITY,left:o.FIELD,middle:[o.FIELD],right:o.FIELD,bottom:o.FIELD,isSpecial:!1},{id:"010",name:"City_6",imageSource:"./Elements/Tiles/City/City_6.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.FIELD,isSpecial:!1},{id:"011",name:"City_7",imageSource:"./Elements/Tiles/City/City_7.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.FIELD,isSpecial:!0},{id:"012",name:"City_8",imageSource:"./Elements/Tiles/City/City_8.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.ROAD,isSpecial:!1},{id:"013",name:"City_9",imageSource:"./Elements/Tiles/City/City_9.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.ROAD,isSpecial:!0},{id:"014",name:"City_10",imageSource:"./Elements/Tiles/City/City_10.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.CITY,isSpecial:!0},{id:"015",name:"Joiner_1",imageSource:"./Elements/Tiles/Joiners/Joiner_1.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.FIELD,bottom:o.FIELD,isSpecial:!1},{id:"016",name:"Joiner_2",imageSource:"./Elements/Tiles/Joiners/Joiner_2.png",top:o.CITY,left:o.CITY,middle:[o.CITY],right:o.FIELD,bottom:o.FIELD,isSpecial:!0},{id:"017",name:"Joiner_3",imageSource:"./Elements/Tiles/Joiners/Joiner_3.png",top:o.FIELD,left:o.ROAD,middle:[o.ROAD],right:o.ROAD,bottom:o.FIELD,isSpecial:!1},{id:"018",name:"Joiner_4",imageSource:"./Elements/Tiles/Joiners/Joiner_4.png",top:o.FIELD,left:o.CITY,middle:[o.CITY],right:o.CITY,bottom:o.FIELD,isSpecial:!0},{id:"019",name:"Joiner_5",imageSource:"./Elements/Tiles/Joiners/Joiner_5.png",top:o.CITY,left:o.CITY,middle:[o.CITY,o.ROAD],right:o.ROAD,bottom:o.ROAD,isSpecial:!1},{id:"020",name:"Joiner_6",imageSource:"./Elements/Tiles/Joiners/Joiner_6.png",top:o.CITY,left:o.CITY,middle:[o.CITY,o.ROAD],right:o.ROAD,bottom:o.ROAD,isSpecial:!0},{id:"021",name:"Monastery",imageSource:"./Elements/Tiles/Monastery/Monastery_1.png",top:o.FIELD,left:o.FIELD,middle:[o.MONASTERY],right:o.FIELD,bottom:o.ROAD,isSpecial:!0},{id:"022",name:"Garden",imageSource:"./Elements/Tiles/Monastery/Monastery_2.png",top:o.GARDEN,left:o.GARDEN,middle:[o.GARDEN],right:o.GARDEN,bottom:o.GARDEN,isSpecial:!0},{id:"023",name:"Splitter_1",imageSource:"./Elements/Tiles/Splitters/Splitter_1.png",top:o.CITY,left:o.FIELD,middle:[o.FIELD],right:o.FIELD,bottom:o.CITY,isSpecial:!1},{id:"024",name:"Splitter_2",imageSource:"./Elements/Tiles/Splitters/Splitter_2.png",top:o.CITY,left:o.CITY,middle:[o.FIELD],right:o.FIELD,bottom:o.FIELD,isSpecial:!1}];class mn{constructor(e,n,i=!1,a){this.id=a,this.edges=e,this.middle=[...n],this.originalEdges=e,this.isSpecial=i,this.rotation=0,$(this)}getCurrentEdges(){return Ye({},this.edges)}rotateLeft(){this.rotation-=90,this.rotation===-90&&(this.rotation=270);const e=this.getCurrentEdges();this.edges={bottom:e.left,left:e.top,right:e.bottom,top:e.right}}rotateRight(){this.rotation+=90,this.rotation===360&&(this.rotation=0);const e=this.getCurrentEdges();this.edges={bottom:e.right,left:e.bottom,right:e.top,top:e.left}}setRotation(e){const n=Math.abs(e/90);for(let i=0;i<n;i++)e>0?this.rotateRight():this.rotateLeft()}getTileImageSourceById(){const n=this.id.split("_")[0],i=Ve.find(a=>a.id===n);if(i)return i.imageSource}getTileImageSourceByLocations(){const e=Ve.find(n=>n.bottom===this.originalEdges.bottom&&n.right===this.originalEdges.right&&n.left===this.originalEdges.left&&n.top===this.originalEdges.top);if(e)return e.imageSource}}const Ue=t=>{const e=[];return t.toString(),t.forEach(n=>{const{edges:i,middle:a,isSpecial:l,id:c}=n,m=new mn(i,a,l,c);e.push(m)}),e};function fn(){ge(H.INVALID_MOVE)}const gn=()=>s(ee,{eventType:H.INVALID_MOVE});const En=()=>s("div",{className:"p-10",children:s("div",{className:"group inline-block z-50",children:s("div",{className:"outline-none focus:outline-none font-ALMENDRA  px-3 py-1 bg-DARKTHEME_LIGHT_GREEN_COLOR rounded-sm flex items-center min-w-32",children:s("span",{className:"pr-1 font-semibold flex-1",children:"Meeple can't be place now"})})})}),Tn=Q(()=>{const t=_.projectStore.availableProjects,e=_.gameStore.currentPhase,n=i=>{_.gameStore.placeMeeple(i)};return(t==null?void 0:t.length)&&e===L.MEEPLE_PLACEMENT?s("div",{className:"p-10",children:E("div",{className:"group inline-block z-50",children:[E("button",{className:"outline-none focus:outline-none font-ALMENDRA  px-3 py-1 bg-DARKTHEME_LIGHT_GREEN_COLOR rounded-sm flex items-center min-w-32",children:[s("span",{className:"pr-1 font-semibold flex-1",children:"Place meeple"}),s("span",{children:s("svg",{className:"fill-current h-4 w-4 transform group-hover:-rotate-180 transition duration-150 ease-in-out",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:s("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),s("ul",{className:"bg-DARKTHEME_LIGHT_GREEN_COLOR font-ALMENDRA z-50 rounded-sm transform scale-0 group-hover:scale-100 absolute  transition duration-400 ease-in-out origin-top min-w-32",children:t==null?void 0:t.map(i=>s("li",{onClick:()=>n(i),className:"rounded-sm relative px-3 py-1 hover:bg-DARKTHEME_DARK_GREEN_COLOR hover:text-white",children:i.type},i.type))})]})}):s("div",{className:"p-10",children:s("div",{className:"group inline-block z-50",children:s("div",{className:"outline-none focus:outline-none font-ALMENDRA  px-3 py-1 bg-DARKTHEME_LIGHT_GREEN_COLOR rounded-sm flex items-center min-w-32",children:s("span",{className:"pr-1 font-semibold flex-1",children:"Meeple placed"})})})})});var L=(t=>(t.TILE_PLACEMENT="Tile placement phase",t.MEEPLE_PLACEMENT="Meeple placement phase",t.SCORE_PHASE="Score points phase",t))(L||{});const _n=["Tile placement phase","Meeple placement phase","Score points phase"],yn=D(()=>{const t=_.gameStore.currentPhase,e=_.projectStore.availableProjects,n=()=>{_.gameStore.setNextPhase()},i="rounded-full mt-1 mr-3 border-2 border-solid border-DARKTHEME_LIGHT_GREEN_COLOR bg-DARKTHEME_LIGHT_GREEN_COLOR h-8 w-8",a="rounded-full mt-1 mr-3 border-2 border-solid border-DARKTHEME_LIGHT_GREEN_COLOR h-8 w-8";return E("div",{className:"inline-flex",children:[E("div",{className:"flex flex-col mt-2",children:[s(P,{text:t==="Score points phase"?"End turn":"Next phase",colorVariant:"light",onClick:n}),s("div",{className:"flex",children:_n.map(l=>s("div",{className:t===l?i:a},l))})]}),t==="Meeple placement phase"||(e==null?void 0:e.length)?s(Tn,{}):s(En,{})]})}),ze=[{edges:{bottom:o.FIELD,left:o.ROAD,right:o.ROAD,top:o.FIELD},isSpecial:!1,id:"001_1",middle:[o.ROAD]},{id:"006_2",edges:{top:o.CITY,right:o.FIELD,bottom:o.ROAD,left:o.ROAD},middle:[o.ROAD],isSpecial:!1},{id:"006_3",edges:{top:o.CITY,right:o.FIELD,bottom:o.ROAD,left:o.ROAD},middle:[o.ROAD],isSpecial:!1},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.FIELD,top:o.FIELD},id:"021_1",isSpecial:!1,middle:[o.MONASTERY]},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.ROAD,top:o.FIELD},id:"002_1",isSpecial:!1,middle:[o.ROAD]},{id:"015_1",edges:{top:o.CITY,left:o.CITY,bottom:o.FIELD,right:o.FIELD},middle:[o.CITY],isSpecial:!1},{id:"015_2",edges:{top:o.CITY,left:o.CITY,bottom:o.FIELD,right:o.FIELD},middle:[o.CITY],isSpecial:!1},{id:"015_3",edges:{top:o.CITY,left:o.CITY,bottom:o.FIELD,right:o.FIELD},middle:[o.CITY],isSpecial:!1},{id:"015_4",edges:{top:o.CITY,left:o.CITY,bottom:o.FIELD,right:o.FIELD},middle:[o.CITY],isSpecial:!1},{edges:{bottom:o.FIELD,left:o.ROAD,right:o.ROAD,top:o.FIELD},id:"001_2",isSpecial:!1,middle:[o.ROAD]},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.ROAD,top:o.FIELD},id:"002_2",isSpecial:!1,middle:[o.ROAD]},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.FIELD,top:o.FIELD},isSpecial:!1,id:"021_2",middle:[o.MONASTERY]},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.ROAD,top:o.FIELD},isSpecial:!1,id:"002_3",middle:[o.ROAD]},{edges:{bottom:o.FIELD,left:o.ROAD,right:o.ROAD,top:o.FIELD},id:"001_3",isSpecial:!1,middle:[o.ROAD]},{edges:{bottom:o.ROAD,left:o.FIELD,right:o.ROAD,top:o.FIELD},isSpecial:!1,id:"002_4",middle:[o.ROAD]},{edges:{bottom:o.FIELD,left:o.ROAD,right:o.ROAD,top:o.FIELD},id:"001_4",isSpecial:!1,middle:[o.ROAD]}];var N=(t=>(t.SEND_TILE_PLACED="sendTilePlaced",t.RECEIVE_TILE_PLACED="receiveTilePlaced",t.SEND_TILE_ROTATED="sendTileRotated",t.RECEIVE_TILE_ROTATED="receiveTileRotated",t.SEND_MEEPLE_PLACED="sendMeeplePlaced",t.RECEIVE_MEEPLE_PLACED="receiveMeeplePlaced",t.SEND_NEXT_PHASE="sendNextPhase",t.RECEIVE_NEXT_PHASE="receiveNextPhase",t.SEND_MESSAGE_TO_ROOM="sendMessageToRoom",t.RECEIVE_MESSAGE_TO_ROOM="receiveMessageToRoom",t.SEND_MESSAGE="sendMessage",t.RECEIVE_MESSAGE="receiveMessage",t.CREATE_ROOM="creteRoom",t.JOINED_ROOM="joinedRoom",t))(N||{});class Cn{constructor(e){const n=e.split("_");n.length===3&&(this.id=`${n[0]}`,this.row=+n[1],this.column=+n[2])}get messageString(){return`${this.id}_${this.row}_${this.column}`}}class ot{constructor(e){const n=e.split("_");n.length===5&&(this.id=`${n[0]}_${n[1]}`,this.row=+n[2],this.column=+n[3],this.rotation=+n[4])}get messageString(){return`${this.id}_${this.row}_${this.column}_${this.rotation}`}}class st{parse(e,n){if(typeof e!="string")return e.messageString;if(n===N.RECEIVE_TILE_PLACED)return new ot(e);if(n===N.RECEIVE_MEEPLE_PLACED)return new Cn(e)}}function it(){ge(H.SHOW_SCORE)}const rt=D(()=>{const t=_.playersStore.players;let e=[],n=[];It.register(Mt,Dt,Lt,Nt,At,Pt);const i={indexAxis:"y",elements:{bar:{borderWidth:3}},responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"green",font:{size:17},precision:0}},y:{ticks:{color:"white",font:{size:17}}}}};t.map(l=>{e.push(l.name),n.push(l.score)});const a={labels:e,datasets:[{label:"",data:n,borderColor:"#1b2818",backgroundColor:"#38CD2B",datalabels:{color:"#FFCE56"}}]};return s(ee,{eventType:H.SHOW_SCORE,children:s("div",{className:"flex flex-col text-white mb-5 text-center text-xl",children:E("div",{className:"flex flex-col",children:[!t.length&&s("div",{children:"There aren't any players yet!"}),t.map(l=>E("div",{className:"flex flex-row text-lg bold justify-start mb-4",children:[s("div",{className:"flex justify-center w-[60px]",children:s("img",{src:`./Elements/Meeple/${l.technology}_meeple.png`,alt:l.technology,width:"30px"})}),E("div",{children:[l.name," has score: ",l.score]})]},l.technology)),!!t.length&&s(wt,{options:i,data:a})]})})})});function Rn(){_.gameStore.currentPhase!==L.SCORE_PHASE&&console.log("wrong phase");const t=_.projectStore.allProjects.filter(e=>!e.isFinished&&e.isFinishable);t.length&&t.forEach(e=>e.finishProject())}class vn{constructor(e){this.boardState=[],this.boardState=[{row:0,column:0,state:O.ACTIVE}],this.rootStore=e,this.turnNumber=0,this.currentPhase=L.TILE_PLACEMENT,this.drawPile=Ue(ze),this.tileInHand=this.drawPile.shift(),this.recentlyPlacedTile=void 0,$(this)}placeTile(e,n,i){const a=this.boardState.find(l=>l.row===e&&l.column===n);if(a&&this.tileInHand)if(ln(e,n)){if(a.state=O.TAKEN,a.tile=this.tileInHand,i||this.emitTilePlacementMessage(this.tileInHand.id,e,n,this.tileInHand.rotation),un(e,n),cn(e,n),en(e,n),this.recentlyPlacedTile=this.tileInHand,i){const l=this.drawPile.findIndex(c=>{var m;return c.id===((m=this.tileInHand)==null?void 0:m.id)});this.drawPile.splice(l,1)}this.tileInHand=void 0,this.boardState.length>9&&!i&&this.setNextPhase()}else fn()}placeMeeple(e){if(e){const n=e.addMeeple(),i=_.gameStore.boardState.find(a=>a.tile===_.gameStore.recentlyPlacedTile);i&&(i.meeple=n)}this.setNextPhase()}emitTilePlacementMessage(e,n,i,a){const l=new st,c=new ot("");c.id=e,c.row=n,c.column=i,c.rotation=a,A.emit(N.SEND_TILE_PLACED,l.parse(c,N.SEND_TILE_PLACED))}setTileInHandFromWebSocket(e,n){const i=this.drawPile.find(a=>a.id===e);if(i){i.setRotation(n),this.tileInHand=i;return}this.tileInHand=void 0}setRotationFromWebSocket(e){var n;(n=this.tileInHand)==null||n.setRotation(e)}setNextPhase(e=!1){this.currentPhase===L.TILE_PLACEMENT?this.currentPhase=L.MEEPLE_PLACEMENT:this.currentPhase===L.MEEPLE_PLACEMENT?(this.currentPhase=L.SCORE_PHASE,Rn()):this.currentPhase===L.SCORE_PHASE&&(this.endCurrentTurn(),this.currentPhase=L.TILE_PLACEMENT),!e&&A.emit(N.SEND_NEXT_PHASE,!0)}increaseTurnNumber(){this.turnNumber++}endCurrentTurn(){this.drawPile.length===0&&this.tileInHand===void 0&&this.currentPhase===L.SCORE_PHASE&&(this.finishGame(),it()),this.increaseTurnNumber(),this.recentlyPlacedTile=void 0,this.tileInHand=this.drawPile.shift()}finishGame(){_.gameStore.drawPile.length<1&&_.projectStore.allProjects.filter(n=>!n.isFinished).forEach(n=>n.scoreUnfinishedProject())}initGameStore(){this.boardState.length=0,this.boardState.push({row:0,column:0,state:O.ACTIVE}),this.turnNumber=0,this.currentPhase=L.TILE_PLACEMENT,this.drawPile=Ue(ze),this.tileInHand=this.drawPile.shift()}removeMeepleFromBoard(e){const n=this.boardState.find(i=>i.meeple===e);n&&(n.meeple=void 0)}}var w=(t=>(t.HTML="HTML",t.JS="JS",t.TS="TS",t.NODE="Node",t.REDUX="Redux",t))(w||{});const Sn=w.HTML,bn=7,pe=.6,xn=177;class On{constructor(e){this.player=e}get isPlaced(){return!!this.tile}}class he{constructor(e,n=Sn){this.name=e,this.technology=n,this._score=0,this._placedTiles=[],this._meeples=[],this.initializeMeeples(),$(this)}makeAutoObservable(){throw new Error("Method not implemented.")}initializeMeeples(){for(let e=0;e<bn;e++)this._meeples.push(new On(this))}get score(){return this._score}updateScore(e){return this._score+=e,this._score}get placedTiles(){return this._placedTiles}set placeTile(e){this._placedTiles.push(e)}getMeeple(){const e=this._meeples.pop();if(typeof e!="undefined")return e}getMeepleCount(){return this._meeples.length}returnMeeple(e){this._meeples.push(e),_.gameStore.removeMeepleFromBoard(e)}getPlayerInfo(){return`${this.name} (${this.technology}) has ${this.score} points, ${this.getMeepleCount()} meeples left and placed ${this.placedTiles.length} tiles.`}}class In{constructor(e){this.players=[],this.rootStore=e,$(this)}addPlayer(e,n){const i=new he(e,n);this.players.push(i)}changeOrderOfPlayers(e){this.players||(this.players=[]),[this.players[e-1],this.players[e]]=[this.players[e],this.players[e-1]]}getCurrentPlayer(){return this.players.find((e,n)=>n===(this.rootStore.gameStore.turnNumber-1)%this.players.length)}initPlayersStore(){this.players=[]}}class Mn{constructor(){this.isDevelopmentMode=!1,this.gameStore=new vn(this),this.playersStore=new In(this),this.projectStore=new hn(this),$(this)}setIsDevelopmentMode(){this.isDevelopmentMode=!this.isDevelopmentMode}resetStores(){this.gameStore.initGameStore(),this.playersStore.initPlayersStore(),this.projectStore.initProjectStore()}}const _=new Mn,j=_.gameStore.boardState;function Dn(){ge(H.SETTINGS_ON)}const W=D(()=>{const t=()=>{localStorage.clear(),_.resetStores()};return s(ee,{eventType:H.SETTINGS_ON,children:s("div",{className:"flex flex-col",children:s(P,{text:"Reset data",onClick:t,colorVariant:"light"})})})}),Ln=()=>s("div",{className:"flex justify-center h-40 bg-DARKTHEME_BACKGROUND_COLOR",children:E("div",{className:"mt-2",children:[s("div",{className:"absolute top-5 right-7 ",children:s("img",{src:Wt,onClick:Dn,alt:"titile_tile",className:"w-30 h-30"})}),E(fe,{to:J,children:[s("div",{className:"absolute",children:s("img",{src:qt,alt:"title_tile",className:"w-30 h-30"})}),s("div",{className:"font-ALMENDRA text-DARKTHEME_LIGHT_GREEN_COLOR font-regular mt-1 text-9xl ml-3 select-none",children:zt})]})]})}),Nn=()=>s("div",{className:"absolute inset-x-0 bottom-0 z-30",children:s("img",{src:Jt,className:"opacity-40 h-72 w-full",alt:"castle"})}),An=D(({player:t,number:e,last:n})=>{const i=`./Elements/Meeple/${t.technology}_meeple.png`,a=l=>_.playersStore.changeOrderOfPlayers(l);return E("div",{className:"flex items-center justify-between w-80",children:[E("div",{className:"flex items-center justify-center",children:[e!==1?s("input",{className:"h-12",type:"image",src:"./Elements/Layout/up_arrow.png",alt:"up",onClick:()=>a(e-1)}):s("input",{className:"h-12 opacity-0",type:"image",src:"./Elements/Layout/up_arrow.png",alt:"up",disabled:!0}),E("p",{className:"font-ALMENDRA font-bold text-2xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:[e,". "]}),n?s("input",{className:"h-12 opacity-0",type:"image",src:"./Elements/Layout/down_arrow.png",alt:"down",disabled:!0}):s("input",{className:"h-12",type:"image",src:"./Elements/Layout/down_arrow.png",alt:"down",onClick:()=>a(e)})]}),s("p",{className:"font-ALMENDRA font-bold text-2xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:t.name}),s("img",{src:i,alt:t.technology})]})}),Pn=D(({players:t})=>{const e=q(),n=()=>{e(et)};return E("div",{className:"flex flex-col items-center justify-between w-96 h-[580px] bg-DARKTHEME_BACKGROUND_COLOR border-4 border-DARKTHEME_LIGHT_GREEN_COLOR",children:[s("p",{className:"font-ALMENDRA font-bold text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3 mb-10",children:"Players"}),s("div",{className:"flex flex-col items-center justify-around",children:t.map((i,a)=>s(An,{player:i,number:a+1,last:a+1===t.length},i.name))}),t.length>1?s("div",{className:"m-10",children:s(P,{text:"Continue",onClick:n,colorVariant:"light"})}):s("div",{className:"h-10 m-10 w-44"})]})}),wn=({children:t,message:e})=>E("div",{className:"m-10 relative inline-block group",children:[!!e&&s("span",{className:"absolute bottom-full left-1/2 w-[200px] py-[5px] ml-[-100px] z-10 group-hover:visible group-hover:opacity-100 bg-black text-white text-center invisible opacity-0 transition-opacity",children:e}),t]}),Hn=D(({availableTechnologies:t,setAvailableTechnologies:e,playersNames:n})=>{const[i,a]=S.exports.useState(""),[l,c]=S.exports.useState(),[m,g]=S.exports.useState("Choose the player's name and choose a meeple");return S.exports.useEffect(()=>{if(g(""),!i){g("Choose player's name!");return}if(i.length<3||i.length>12){g("Choose name between 3 and 12 characters long!");return}if(n.includes(i)){g("Name is taken! Choose different one!");return}if(!l){g("Choose a meeple!");return}},[i,l]),E("form",{className:"bg-DARKTHEME_BACKGROUND_COLOR flex flex-col items-center justify-between w-96 h-[580px] border-4 border-DARKTHEME_LIGHT_GREEN_COLOR",onSubmit:f=>{if(f.preventDefault(),!i||!l)return;_.playersStore.addPlayer(i,l),e(t.filter(Ee=>Ee!==l)),a("");const M=document.querySelector("input[type=radio]:checked");M&&(M.checked=!1),c(void 0)},children:[s("p",{className:"font-ALMENDRA font-bold text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3 mb-10",children:"Create player"}),E("div",{children:[s("input",{className:"font-ALMENDRA font-bold text-2xl bg-DARKTHEME_DARK_GREEN_COLOR w-80 text-DARKTHEME_LIGHT_GREEN_COLOR focus:outline-none h-10",value:i,onChange:f=>{a(f.currentTarget.value)},autoFocus:!0}),s("p",{className:"font-ALMENDRA font-bold text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:"Player Name"})]}),E("div",{children:[s("div",{className:"flex justify-around w-80",children:t.map(f=>E("label",{children:[s("input",{className:"w-0 h-0 opacity-0  peer",type:"radio",name:"choose-meeple",value:f,onChange:M=>{c(M.currentTarget.value)}}),s("img",{className:"peer-checked:border-2 peer-checked:border-DARKTHEME_LIGHT_GREEN_COLOR",src:`./Elements/Meeple/${f}_meeple.png`,alt:f})]},f))}),s("p",{className:"font-ALMENDRA font-bold text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:"Choose Meeple"})]}),s("div",{className:"m-10",children:s(wn,{message:m,children:s(P,{type:"submit",text:"Add Player",colorVariant:"light",disabled:!!m})})})]})}),Gn=D(()=>{const t=_.playersStore.players,[e,n]=S.exports.useState([w.HTML,w.JS,w.TS,w.NODE,w.REDUX]);return E("div",{className:"flex items-center justify-center",children:[e.length>0&&s(Hn,{availableTechnologies:e,setAvailableTechnologies:n,playersNames:t.map(i=>i.name)}),t.length>0&&s(Pn,{players:t}),s(W,{})]})}),Je={subtitle:"Meet our team",title:"This is our project during Coders Camp 2021/2022"},jn=()=>s("div",{className:"grid md:grid-cols-3 grid-cols-2 gap-4",children:[{name:"Szymon",url:"https://github.com/Nefariusek"},{name:"Sylwia",url:"https://github.com/mngweb"},{name:"Natalia",url:"https://github.com/NataliaCichonska"},{name:"Maria",url:"https://github.com/MariaBanaszkiewicz"},{name:"Ula",url:"https://github.com/Urszuja"},{name:"Grzegorz",url:"https://github.com/GRosza"}].map(e=>s("a",{target:"_blank",href:e.url,rel:"noreferrer",tabIndex:-1,children:s("button",{type:"button",className:"bg-DARKTHEME_BACKGROUND_COLOR bg-[url('../Elements/Layout/Tile_game.png')] hover:bg-[url('../Elements/Layout/Tile_board_dark.png')] focus:bg-[url('../Elements/Layout/Tile_board_dark.png')] bg-contain border hover:border-2 focus:border-2 focus:outline-none border-DARKTHEME_LIGHT_GREEN_COLOR font-ALMENDRA text-3xl text-DARKTHEME_LIGHT_GREEN_COLOR w-40 h-40",children:e.name})},e.name))}),Fn=()=>E("div",{className:"flex items-center justify-center flex-col text-DARKTHEME_LIGHT_GREEN_COLOR",children:[E("header",{className:"text-center mb-2",children:[s("h2",{className:"text-2xl mb-2",children:Je.title}),s("h3",{className:"text-1xl mb-2",children:Je.subtitle})]}),s(jn,{}),s("footer",{className:"text-center mt-3",children:s("div",{children:s(fe,{to:J,children:s(P,{text:"Back to Homepage"})})})}),s(W,{})]});class kn{constructor(e,n,i,a){this.turnLength=e,this.tileAmount=n,this.boardSizeX=i,this.boardSizeY=a}}class me extends kn{constructor(e,n,i,a,l){super(e,n,i,a);this.gameMode=l}}const Kn=[4,8,16,32,64],Yn=[16,32,64,128],Bn=[5,10,15,30,60],Ie=t=>{const{options:e,property:n,setFunction:i}=t;return E("div",{className:"font-ALMENDRA font-bold text-3xl text-DARKTHEME_LIGHT_GREEN_COLOR mt-40 p-10 text-center",children:[s("p",{className:"text-4xl",children:n}),s("select",{onClick:l=>{const c=parseFloat(l.currentTarget.innerHTML);i(c)},className:"text-DARKTHEME_BACKGROUND_COLOR hover:text-white font-ALMENDRA font-bold text-3xl w-40 bg-DARKTHEME_LIGHT_GREEN_COLOR hover:bg-DARKTHEME_DARK_GREEN_COLOR focus:ring-4 focus:outline-none rounded-lg px-4 py-2.5 mt-3 text-left inline-flex items-center",id:n,children:e.map(l=>s("option",{value:l,children:l},l))})]})},$n=()=>{const t=q(),[e,n]=S.exports.useState(32),[i,a]=S.exports.useState(32),[l,c]=S.exports.useState(30);return E("div",{className:"flex flex-col justify-center bg-DARKTHEME_BACKGROUND_COLOR w-full items-center",children:[s("p",{className:"font-ALMENDRA font-bold text-5xl text-DARKTHEME_LIGHT_GREEN_COLOR text-center m mt-[50px]",children:"Custom Mode"}),E("div",{className:"flex flex-row justify-center px-5 w-full mt-[10px]",children:[s(Ie,{options:Kn,value:e,property:"Board Size",setFunction:n}),s(Ie,{options:Yn,value:i,property:"Tile Amount",setFunction:a}),s(Ie,{options:Bn,value:l,property:"Turn Length",setFunction:c})]}),s("div",{className:"flex justify-center relative right-[15px]",children:s(P,{text:"Play Game",onClick:()=>{const g=new me(l,i,e,e,"Custom");localStorage.setItem("Game mode",JSON.stringify(g)),t(z)},colorVariant:"light"})}),s(W,{})]})};var at={exports:{}};(function(t,e){(function(i,a){t.exports=a(Ht.exports,S.exports)})(Gt,function(n,i){return function(a){var l={};function c(m){if(l[m])return l[m].exports;var g=l[m]={i:m,l:!1,exports:{}};return a[m].call(g.exports,g,g.exports,c),g.l=!0,g.exports}return c.m=a,c.c=l,c.d=function(m,g,y){c.o(m,g)||Object.defineProperty(m,g,{enumerable:!0,get:y})},c.r=function(m){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},c.t=function(m,g){if(g&1&&(m=c(m)),g&8||g&4&&typeof m=="object"&&m&&m.__esModule)return m;var y=Object.create(null);if(c.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:m}),g&2&&typeof m!="string")for(var f in m)c.d(y,f,function(M){return m[M]}.bind(null,f));return y},c.n=function(m){var g=m&&m.__esModule?function(){return m.default}:function(){return m};return c.d(g,"a",g),g},c.o=function(m,g){return Object.prototype.hasOwnProperty.call(m,g)},c.p="",c(c.s=2)}([function(a,l){a.exports=n},function(a,l){a.exports=i},function(a,l,c){c.r(l);var m=c(1),g=c.n(m),y=c(0),f=c.n(y);function M(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(u){return typeof u}:M=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},M(p)}function Ee(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function Le(p,d){for(var u=0;u<d.length;u++){var r=d[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(p,r.key,r)}}function ct(p,d,u){return d&&Le(p.prototype,d),u&&Le(p,u),p}function dt(p,d){return d&&(M(d)==="object"||typeof d=="function")?d:ut(p)}function ut(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Te(p){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Te(p)}function pt(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d&&_e(p,d)}function _e(p,d){return _e=Object.setPrototypeOf||function(r,h){return r.__proto__=h,r},_e(p,d)}var ye=function(p){pt(d,p);function d(){return Ee(this,d),dt(this,Te(d).apply(this,arguments))}return ct(d,[{key:"render",value:function(){var r=this,h=this.props,T=h.plusBtnContents,C=h.minusBtnContents,R=h.btnClass,b=h.plusBtnClass,v=h.minusBtnClass,x=h.controlsClass,I=h.scale,G=h.minScale,re=h.maxScale,ae=h.onClickPlus,le=h.onClickMinus,k=h.disableZoom,X={width:30,paddingTop:5,marginBottom:5},xe=x?void 0:{position:"absolute",right:10,top:10};function je(K){K.preventDefault(),K.target.blur(),!k&&ae()}function Fe(K){K.preventDefault(),K.target.blur(),!k&&le()}return g.a.createElement("div",{style:xe,className:x},g.a.createElement("div",null,g.a.createElement("button",{ref:function(Oe){r.plusNode=Oe},onClick:je,onTouchEnd:je,className:[R||"",b||""].join(" "),type:"button",style:R||b?void 0:X,disabled:k||I>=re},T)),g.a.createElement("div",null,g.a.createElement("button",{ref:function(Oe){r.minusNode=Oe},onClick:Fe,onTouchEnd:Fe,className:[R||"",v||""].join(" "),type:"button",style:R||v?void 0:X,disabled:k||I<=G},C)))}}]),d}(m.Component);ye.propTypes={onClickPlus:f.a.func.isRequired,onClickMinus:f.a.func.isRequired,plusBtnContents:f.a.node,minusBtnContents:f.a.node,btnClass:f.a.string,plusBtnClass:f.a.string,minusBtnClass:f.a.string,controlsClass:f.a.string,scale:f.a.number,minScale:f.a.number,maxScale:f.a.number,disableZoom:f.a.bool},ye.defaultProps={plusBtnContents:"+",minusBtnContents:"-",disableZoom:!1};var ht=ye;function Z(p,d,u){return Math.max(p,Math.min(d,u))}function mt(p,d){var u=p.x-d.x,r=p.y-d.y;return Math.sqrt(Math.pow(u,2)+Math.pow(r,2))}function Ne(p,d){return{x:(p.x+d.x)/2,y:(p.y+d.y)/2}}function V(p){return{x:p.clientX,y:p.clientY}}function Ae(p,d){var u=V(p),r=V(d);return mt(u,r)}var Ce=!1;try{var te={get passive(){Ce=!0}};window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ce=!1}function ft(p){return Ce?{passive:p}:p}var gt=ft;function ne(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ne=function(u){return typeof u}:ne=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ne(p)}function Re(){return Re=Object.assign||function(p){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(p[r]=u[r])}return p},Re.apply(this,arguments)}function Et(p,d){if(p==null)return{};var u=Tt(p,d),r,h;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(p);for(h=0;h<T.length;h++)r=T[h],!(d.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(p,r)||(u[r]=p[r]))}return u}function Tt(p,d){if(p==null)return{};var u={},r=Object.keys(p),h,T;for(T=0;T<r.length;T++)h=r[T],!(d.indexOf(h)>=0)&&(u[h]=p[h]);return u}function _t(p){for(var d=1;d<arguments.length;d++){var u=arguments[d]!=null?arguments[d]:{},r=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(u).filter(function(h){return Object.getOwnPropertyDescriptor(u,h).enumerable}))),r.forEach(function(h){yt(p,h,u[h])})}return p}function yt(p,d,u){return d in p?Object.defineProperty(p,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):p[d]=u,p}function Pe(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function we(p,d){return d&&(ne(d)==="object"||typeof d=="function")?d:F(p)}function oe(p){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},oe(p)}function F(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function He(p,d){for(var u=0;u<d.length;u++){var r=d[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(p,r.key,r)}}function se(p,d,u){return d&&He(p.prototype,d),u&&He(p,u),p}function Ge(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d&&ve(p,d)}function ve(p,d){return ve=Object.setPrototypeOf||function(r,h){return r.__proto__=h,r},ve(p,d)}var ie=function(d,u){return u*d-d},Se=f.a.shape({x:f.a.number,y:f.a.number}),Ct=function(p){Ge(d,p),se(d,null,[{key:"propTypes",get:function(){return{children:f.a.func,value:f.a.shape({scale:f.a.number.isRequired,translation:Se.isRequired}).isRequired,onChange:f.a.func.isRequired,disableZoom:f.a.bool,disablePan:f.a.bool,translationBounds:f.a.shape({xMin:f.a.number,xMax:f.a.number,yMin:f.a.number,yMax:f.a.number}),minScale:f.a.number,maxScale:f.a.number,showControls:f.a.bool,plusBtnContents:f.a.node,minusBtnContents:f.a.node,btnClass:f.a.string,plusBtnClass:f.a.string,minusBtnClass:f.a.string,controlsClass:f.a.string}}},{key:"defaultProps",get:function(){return{minScale:.05,maxScale:3,showControls:!1,translationBounds:{},disableZoom:!1,disablePan:!1}}}]);function d(u){var r;return Pe(this,d),r=we(this,oe(d).call(this,u)),r.state={shouldPreventTouchEndDefault:!1},r.startPointerInfo=void 0,r.onMouseDown=r.onMouseDown.bind(F(r)),r.onTouchStart=r.onTouchStart.bind(F(r)),r.onMouseMove=r.onMouseMove.bind(F(r)),r.onTouchMove=r.onTouchMove.bind(F(r)),r.onMouseUp=r.onMouseUp.bind(F(r)),r.onTouchEnd=r.onTouchEnd.bind(F(r)),r.onWheel=r.onWheel.bind(F(r)),r}return se(d,[{key:"componentDidMount",value:function(){var r=gt(!1);this.getContainerNode().addEventListener("wheel",this.onWheel,r),this.getContainerNode().addEventListener("touchstart",this.onTouchStart,r),this.getContainerNode().addEventListener("mousedown",this.onMouseDown,r),window.addEventListener("touchmove",this.onTouchMove,r),window.addEventListener("mousemove",this.onMouseMove,r);var h=_t({capture:!0},r);window.addEventListener("touchend",this.onTouchEnd,h),window.addEventListener("mouseup",this.onMouseUp,h)}},{key:"componentWillUnmount",value:function(){this.getContainerNode().removeEventListener("wheel",this.onWheel),this.getContainerNode().removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),this.getContainerNode().removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"onMouseDown",value:function(r){r.preventDefault(),this.setPointerState([r])}},{key:"onTouchStart",value:function(r){r.preventDefault(),this.setPointerState(r.touches)}},{key:"onMouseUp",value:function(r){this.setPointerState()}},{key:"onTouchEnd",value:function(r){this.setPointerState(r.touches)}},{key:"onMouseMove",value:function(r){!this.startPointerInfo||this.props.disablePan||(r.preventDefault(),this.onDrag(r))}},{key:"onTouchMove",value:function(r){if(!!this.startPointerInfo){r.preventDefault();var h=this.props,T=h.disablePan,C=h.disableZoom,R=r.touches.length==2&&this.startPointerInfo.pointers.length>1;R&&!C?this.scaleFromMultiTouch(r):r.touches.length===1&&this.startPointerInfo&&!T&&this.onDrag(r.touches[0])}}},{key:"onDrag",value:function(r){var h=this,T=this.startPointerInfo,C=T.translation,R=T.pointers,b=R[0],v=r.clientX-b.clientX,x=r.clientY-b.clientY,I={x:C.x+v,y:C.y+x},G=Math.abs(v)>1||Math.abs(x)>1;this.setState({shouldPreventTouchEndDefault:G},function(){h.props.onChange({scale:h.props.value.scale,translation:h.clampTranslation(I)})})}},{key:"onWheel",value:function(r){if(!this.props.disableZoom){r.preventDefault(),r.stopPropagation();var h=Math.pow(2,r.deltaY*.002),T=Z(this.props.minScale,this.props.value.scale+(1-h),this.props.maxScale),C=this.clientPosToTranslatedPos({x:r.clientX,y:r.clientY});this.scaleFromPoint(T,C)}}},{key:"setPointerState",value:function(r){if(!r||r.length===0){this.startPointerInfo=void 0;return}this.startPointerInfo={pointers:r,scale:this.props.value.scale,translation:this.props.value.translation}}},{key:"clampTranslation",value:function(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props,T=r.x,C=r.y,R=h.translationBounds,b=R.xMax,v=R.xMin,x=R.yMax,I=R.yMin;return v=v!=null?v:-1/0,I=I!=null?I:-1/0,b=b!=null?b:1/0,x=x!=null?x:1/0,{x:Z(v,T,b),y:Z(I,C,x)}}},{key:"translatedOrigin",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.value.translation,h=this.getContainerBoundingClientRect();return{x:h.left+r.x,y:h.top+r.y}}},{key:"clientPosToTranslatedPos",value:function(r){var h=r.x,T=r.y,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.value.translation,R=this.translatedOrigin(C);return{x:h-R.x,y:T-R.y}}},{key:"scaleFromPoint",value:function(r,h){var T=this.props.value,C=T.translation,R=T.scale,b=r/(R!=0?R:1),v={x:ie(h.x,b),y:ie(h.y,b)},x={x:C.x-v.x,y:C.y-v.y};this.props.onChange({scale:r,translation:this.clampTranslation(x)})}},{key:"scaleFromMultiTouch",value:function(r){var h=this.startPointerInfo.pointers,T=r.touches,C=Ae(h[0],h[1]),R=Ae(T[0],T[1]),b=R/C,v=this.startPointerInfo.scale,x=v+(b-1)*v,I=Z(this.props.minScale,x,this.props.maxScale),G=Ne(V(h[0]),V(h[1])),re=Ne(V(T[0]),V(T[1])),ae={x:re.x-G.x,y:re.y-G.y},le=I/v,k=this.clientPosToTranslatedPos(G,this.startPointerInfo.translation),X={x:ie(k.x,le),y:ie(k.y,le)},xe={x:this.startPointerInfo.translation.x-X.x+ae.x,y:this.startPointerInfo.translation.y-X.y+ae.y};this.props.onChange({scale:I,translation:this.clampTranslation(xe)})}},{key:"discreteScaleStepSize",value:function(){var r=this.props,h=r.minScale,T=r.maxScale,C=Math.abs(T-h);return C/10}},{key:"changeScale",value:function(r){var h=this.props.value.scale+r,T=this.props,C=T.minScale,R=T.maxScale,b=Z(C,h,R),v=this.getContainerBoundingClientRect(),x=v.left+v.width/2,I=v.top+v.height/2,G=this.clientPosToTranslatedPos({x,y:I});this.scaleFromPoint(b,G)}},{key:"getContainerNode",value:function(){return this.containerNode}},{key:"getContainerBoundingClientRect",value:function(){return this.getContainerNode().getBoundingClientRect()}},{key:"renderControls",value:function(){var r=this,h=this.discreteScaleStepSize();return g.a.createElement(ht,{onClickPlus:function(){return r.changeScale(h)},onClickMinus:function(){return r.changeScale(-h)},plusBtnContents:this.props.plusBtnContents,minusBtnContents:this.props.minusBtnContents,btnClass:this.props.btnClass,plusBtnClass:this.props.plusBtnClass,minusBtnClass:this.props.minusBtnClass,controlsClass:this.props.controlsClass,scale:this.props.value.scale,minScale:this.props.minScale,maxScale:this.props.maxScale,disableZoom:this.props.disableZoom})}},{key:"render",value:function(){var r=this,h=this.props,T=h.showControls,C=h.children,R=this.props.value.scale,b=this.clampTranslation(this.props.value.translation),v=function(I){r.state.shouldPreventTouchEndDefault&&(I.preventDefault(),r.setState({shouldPreventTouchEndDefault:!1}))};return g.a.createElement("div",{ref:function(I){r.containerNode=I},style:{height:"100%",width:"100%",position:"relative",touchAction:"none"},onClickCapture:v,onTouchEndCapture:v},(C||void 0)&&C({translation:b,scale:R}),(T||void 0)&&this.renderControls())}}]),d}(m.Component),Rt=function(p){Ge(d,p),se(d,null,[{key:"propTypes",get:function(){return{children:f.a.func,value:f.a.shape({scale:f.a.number.isRequired,translation:Se.isRequired}),defaultValue:f.a.shape({scale:f.a.number.isRequired,translation:Se.isRequired}),disableZoom:f.a.bool,disablePan:f.a.bool,onChange:f.a.func,translationBounds:f.a.shape({xMin:f.a.number,xMax:f.a.number,yMin:f.a.number,yMax:f.a.number}),minScale:f.a.number,maxScale:f.a.number,showControls:f.a.bool,plusBtnContents:f.a.node,minusBtnContents:f.a.node,btnClass:f.a.string,plusBtnClass:f.a.string,minusBtnClass:f.a.string,controlsClass:f.a.string}}}]);function d(u){var r;Pe(this,d),r=we(this,oe(d).call(this,u));var h=d.isControlled(u);return h?r.state={lastKnownValueFromProps:u.value}:r.state={value:u.defaultValue||{scale:1,translation:{x:0,y:0}},lastKnownValueFromProps:void 0},r}return se(d,[{key:"innerProps",value:function(){var r=this.props;r.value,r.defaultValue,r.onChange;var h=Et(r,["value","defaultValue","onChange"]);return h}},{key:"getValue",value:function(){var r=d.isControlled(this.props);return r?this.props.value:this.state.value}},{key:"render",value:function(){var r=this,h=this.props,T=h.onChange,C=h.children,R=d.isControlled(this.props),b=R?this.props.value:this.state.value;return g.a.createElement(Ct,Re({onChange:function(x){R?T(x):r.setState({value:x})},value:b},this.innerProps()),C)}}],[{key:"getDerivedStateFromProps",value:function(r,h){var T=d.isControlled(r),C=h.lastKnownValueFromProps&&d.isControlled({value:h.lastKnownValueFromProps});if(!C&&T)return{value:void 0,lastKnownValueFromProps:r.value};if(C&&!T)return{value:h.lastKnownValueFromProps,lastKnownValueFromProps:void 0};if(C&&T)return{lastKnownValueFromProps:r.value};if(!C&&!T)return null}},{key:"isControlled",value:function(r){return r.value!=null}}]),d}(m.Component),be=Rt,vt=function(d){return g.a.createElement(be,d,function(u){var r=u.translation,h=u.scale,T="translate(".concat(r.x,"px, ").concat(r.y,"px) scale(").concat(h,")");return g.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden",touchAction:"none",msTouchAction:"none",cursor:"all-scroll",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}},g.a.createElement("div",{style:{display:"inline-block",transform:T,transformOrigin:"0 0 "}},d.children))})},St=vt;c.d(l,"MapInteractionCSS",function(){return St}),c.d(l,"MapInteraction",function(){return be}),l.default=be}])})})(at);const Vn=D(({player:t,isCurrent:e})=>{const n=`./Elements/Meeple/${t.technology}_meeple.png`;return s(De,{children:e?E("div",{className:"flex items-center gap-1 md:gap-2 lg:gap-3 xl:gap-5 h-20 xl:h-28 border-4 border-DARKTHEME_LIGHT_GREEN_COLOR bg-DARKTHEME_DARK_GREEN_COLOR px-1 lg:px-2",children:[s("p",{className:"font-ALMENDRA font-bold text-2xl lg:text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR py-3 sm:px-1 lg:px-2",children:t.name}),E("p",{className:"font-ALMENDRA font-bold text-2xl lg:text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR py-3 sm:px-1 lg:px-2",children:[t.getMeepleCount(),"x"]}),s("div",{className:"flex justify-center w-[60px]",children:s("img",{src:n,alt:t.technology,width:"60px"})}),s("p",{className:"font-ALMENDRA font-bold text-2xl lg:text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR py-3 sm:px-1 lg:px-2",children:`score: ${t.score}`})]}):E("div",{className:"flex justify-around items-center h-20 w-20 xl:h-28 xl:w-28 border-4 border-DARKTHEME_LIGHT_GREEN_COLOR bg-DARKTHEME_DARK_GREEN_COLOR text-2xl",children:[s("div",{className:"flex justify-center w-[60px]",children:s("img",{src:n,alt:t.technology,width:"60px"})}),s("p",{className:"font-ALMENDRA font-bold text-2xl lg:text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR py-3 sm:px-1 lg:px-2",children:t.score})]})})}),Un=D(({players:t})=>{const e=_.gameStore.turnNumber;return s("div",{className:"flex items-center bg-DARKTHEME_BACKGROUND_COLOR m-2",children:t&&t.map((n,i)=>s(Vn,{player:n,isCurrent:i===(e-1)%t.length},n.name))})}),zn=({turnLength:t})=>{const[e,n]=S.exports.useState(t);return S.exports.useEffect(()=>{e===0?(console.log("Time's up!"),n(t)):setTimeout(()=>n(e-1),1e3)},[e,t]),E("div",{className:"text-xl",children:[" Time left: ",e,"s "]})},Jn=D(t=>{const[e,n]=S.exports.useState(0),[i,a]=S.exports.useState(0),{isTurnTimerVisible:l,turnLength:c}=t;return S.exports.useEffect(()=>{const m=setInterval(()=>{e===59?(n(0),a(i+1)):n(e+1)},1e3);return()=>clearInterval(m)},[e,i]),s("div",{className:"font-ALMENDRA font-bold text-base md:text-2xl xl:text-3xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:E("div",{className:"flex",children:[E("div",{className:"flex-column ml-5 mt-1",children:[E("p",{children:["Turn number: ",_.gameStore.turnNumber]}),E("p",{children:["Game time: ",i,":",e>9?e:`0${e}`]})]}),l&&s(zn,{turnLength:c})]})})}),We=new Map([["top",{position:"absolute",top:0,left:"60px"}],["bottom",{position:"absolute",bottom:0,left:"60px"}],["left",{position:"absolute",left:0,top:"60px"}],["right",{position:"absolute",right:0,top:"60px"}],["middle",{position:"absolute",right:"60px",top:"60px"}]]),lt=Q(t=>{const{tile:e,initialState:n,onChange:i,row:a,column:l,meeple:c}=t;let m;c&&e&&(m=Object.entries(e.edges).find(([y,f])=>f===c.placedAt));function g(y){y.preventDefault(),i&&a!==void 0&&l!==void 0&&i(a,l,!1,e)}return E("div",{className:"relative flex ",onClick:n===O.ACTIVE?g:void 0,children:[n===O.IDLE&&s("img",{src:Xt,alt:O.IDLE,className:"hover: cursor-not-allowed"}),n===O.ACTIVE&&s("img",{id:"active",src:Zt,alt:O.ACTIVE,className:"hover: cursor-pointer"}),n===O.TAKEN&&s("img",{id:"taken",src:e==null?void 0:e.getTileImageSourceById(),alt:O.TAKEN,className:`hover: cursor-not-allowed
      ${(e==null?void 0:e.rotation)===90?"rotate-90":""}
      ${(e==null?void 0:e.rotation)===180?"rotate-180":""}
      ${(e==null?void 0:e.rotation)===270?"rotate-270":""}`}),c&&s("div",{style:m?We.get(m[0]):We.get("middle"),children:s("img",{src:`./Elements/Meeple/${c.player.technology}_meeple.png`,alt:c.player.technology,width:"60px"})})]})});function Wn(t){S.exports.useEffect(()=>{A.on(N.RECEIVE_TILE_PLACED,e=>{const n=new st,{tileData:i,clientId:a}=e,{id:l,row:c,column:m,rotation:g}=n.parse(i,N.RECEIVE_TILE_PLACED);(c!==0||m!==0)&&(_.gameStore.setTileInHandFromWebSocket(l,g),t(c,m,!0)),console.log(`Tile with id ${l} rotated ${g} degrees is placed in ${c} row and ${m} column by client with id ${a}`)})},[])}function Zn(){S.exports.useEffect(()=>{A.on(N.RECEIVE_TILE_ROTATED,t=>{const{rotation:e,clientId:n}=t,i=e;_.gameStore.setRotationFromWebSocket(i),console.log(`Client with id ${n} rotated tile in hand ${i} degrees`)})},[])}function Xn(){S.exports.useEffect(()=>{A.on(N.RECEIVE_NEXT_PHASE,t=>{const{nextPhase:e,clientId:n}=t;e&&_.gameStore.setNextPhase(!0),console.log(`Client with id ${n} moved to the next phase.`)})},[])}const qn=D(()=>{const t=_.gameStore.boardState,e=B.orderBy(t,["row","column"],["asc","asc"]),n=B.groupBy(e,"row"),i=(m,g,y)=>{_.gameStore.placeTile(m,g,y)},[a,l]=S.exports.useState(window.innerHeight);S.exports.useEffect(()=>{window.addEventListener("resize",()=>l(window.innerHeight))},[]),S.exports.useEffect(()=>{i(0,0,!1),_.gameStore.endCurrentTurn()},[]),Wn(i),Zn(),Xn();function c(){const m=Object.entries(n).length,g=pe*a,y=xn*m;return g/y-.05+.005*(m-3)}return s(De,{children:s("div",{id:"gameBoard",style:{zoom:`${c()}`},children:s("table",{children:s("tbody",{children:Object.entries(n).sort((m,g)=>parseInt(m[0])-parseInt(g[0])).map(([m,g])=>s("tr",{children:g.map(y=>s("td",{children:s(lt,{tile:y.tile||void 0,initialState:y.state,onChange:i,row:y.row,column:y.column,meeple:y.meeple})},`${y.row}-${y.column}`))},`row-${m}`))})})})})}),Ze=Q(t=>{const{tile:e,direction:n}=t;function i(){e==null||e.rotateLeft(),A.emit(N.SEND_TILE_ROTATED,-90)}function a(){e==null||e.rotateRight(),A.emit(N.SEND_TILE_ROTATED,90)}return E("div",{children:[n==="left"&&s("button",{type:"button",onClick:i,children:s("img",{src:"./Elements/Layout/Left_arrow.png",alt:"left arrow"})}),n==="right"&&s("button",{type:"button",onClick:a,children:s("img",{src:"./Elements/Layout/Right_arrow.png",alt:"right arrow"})})]})}),Qn=Q(()=>{const t=_.gameStore.tileInHand;return t?E("div",{className:"flex justify-center",children:[s("p",{className:"font-ALMENDRA font-bold text-2xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:"Your tile:"}),s(Ze,{tile:t,direction:"right"}),s(lt,{tile:t,initialState:O.TAKEN}),s(Ze,{tile:t,direction:"left"})]}):s("div",{children:s("p",{className:"font-ALMENDRA font-bold text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:"Tile placed!"})})}),eo=({numberOfAvailableTiles:t})=>E("div",{className:"flex items-center",children:[E("p",{className:"font-ALMENDRA font-bold text-4xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3",children:["Tiles left : ",t]}),s("img",{src:"./Elements/Layout/Card_pile.png",alt:"Draw Pile"})]}),Y=t=>{const{name:e,description:n,imgURL:i}=t;return E("div",{className:"grid grid-cols-4 text-center justify-items-center p-2",children:[E("div",{className:"col-span-3",children:[s("p",{className:"font-bold",children:e}),s("p",{className:"lg:text-base",children:n})]}),!!i&&s("img",{height:60,width:60,src:i,alt:e})]})},to=()=>{const[t,e]=S.exports.useState(!1),n=()=>{e(!t)};return E("div",{className:"font-ALMENDRA text-DARKTHEME_LIGHT_GREEN_COLOR text-base z-50",children:[s("button",{onClick:n,children:s("img",{src:"./Elements/Layout/glass.png",alt:"legend"})}),t&&E("div",{className:"bg-DARKTHEME_DARK_GREEN_COLOR rounded w-[400px] absolute top-[20px] right-[20px]",children:[E("div",{className:"grid grid-cols-6 p-[10px] z-100",children:[s("p",{className:" font-bold text-3xl p-3 col-span-5 text-center",children:"Legend"}),s("button",{className:"p-2 text-bold",onClick:n,children:"X"})]}),E("div",{className:"flex flex-col p-2 gap-y-[10px]",children:[s(Y,{name:"Abbot",description:"Can be placed on just placed tiles- on unoccupied monasteries",imgURL:"./Elements/Meeple/Card_HTML.png"}),s(Y,{name:"Meeple",description:"Can be placed on just placed tiles - on unoccupied roads and cities with no king",imgURL:"./Elements/Meeple/HTML_meeple.png"}),s(Y,{name:"Road",description:"When closed, gives 1 point for every tile on of this road",imgURL:"./Elements/Tiles/Roads/Road_1.png"}),s(Y,{name:"City",description:"Each tile in a completed city is worth 2 points. Each coat of arms is worth 2 more points.",imgURL:"./Elements/Tiles/City/City_7.png"}),s(Y,{name:"Monastery",description:"When surrounded by tiles, gives 9 points to a player whose abbot stands on it",imgURL:"./Elements/Tiles/Monastery/Monastery_1.png"}),s(Y,{name:"Monastery with a road",description:"Scores like monastery",imgURL:"./Elements/Tiles/Monastery/Monastery_2.png"}),s(Y,{name:"Zoom and move gameboard",description:"You can zoom and move your gameboard (pinch/wheel scroll to zoom, drag to pan)"})]})]})]})},no=()=>s(ee,{eventType:H.END_TURN}),oo=D(()=>{const t=_.playersStore.players,e=_.gameStore.drawPile.length,[n]=S.exports.useState(0),i=`${pe*100}%`,a=`${(1-pe)/2*100-1}%`,l=`${(1-pe*100)/2*100-1}%`;return E("div",{style:{height:"97vh"},children:[E("div",{className:"flex justify-between items-center z-0 border-b-2 border-DARKTHEME_LIGHT_GREEN_COLOR",style:{height:a,maxHeight:a,minHeight:"128px"},children:[s("div",{className:"flex justify-center mt-4",children:s(fe,{to:J,children:s("img",{src:Qt,alt:"title_tile",className:"w-30 h-30"})})}),s(Un,{players:t,currentPlayer:n}),s(yn,{}),s(Jn,{isTurnTimerVisible:!1,turnLength:60}),s("div",{className:"flex justify-end",children:s(to,{})})]}),s("div",{className:"flex justify-center items-center",style:{height:i,maxHeight:i,overflow:"auto"},children:s(at.exports.MapInteractionCSS,{minScale:.5,maxScale:3,children:s("div",{className:"flex justify-center items-center w-screen",style:{height:i},children:s(qn,{})})})}),E("div",{className:"flex justify-around border-t-2 border-DARKTHEME_LIGHT_GREEN_COLOR pt-2",style:{bottom:0,height:l,maxHeight:l},children:[s(Qn,{}),s(eo,{numberOfAvailableTiles:e})]}),s(gn,{}),s(no,{}),s(rt,{})]})}),so="Take your time! Turns are long!",io=t=>{const{gameMode:e,infoText:n}=t,i=q(),[a,l]=S.exports.useState(!1),c=()=>{l(!0)},m=()=>{l(!1)},g=()=>{if(e==="Classic"){const y=new me(60,128,64,64,e);localStorage.setItem("Game mode",JSON.stringify(y)),i(z)}else if(e==="Fast"){const y=new me(10,32,4,4,e);localStorage.setItem("Game mode",JSON.stringify(y)),i(z)}else i(tt)};return E("div",{className:"bg-[url('../Elements/Layout/Tile_game.png')] w-380px h-380px",children:[s("button",{type:"button",className:"px-4 py-1 bg-DARKTHEME_LIGHT_GREEN_COLOR font-ALMENDRA font-bold text-3xl text-DARKTHEME_BACKGROUND_COLOR text-center relative top-[20px] left-[320px] rounded-full",onMouseEnter:c,onMouseLeave:m,children:"i"}),s("p",{className:"font-ALMENDRA font-bold text-5xl text-DARKTHEME_LIGHT_GREEN_COLOR p-3 text-center relative top-[50px]",children:`${e} mode`}),s("div",{className:"p-3 flex justify-center relative top-[100px]",children:s(P,{text:"Play game",onClick:g,colorVariant:"light"})}),a&&s("p",{className:"font-ALMENDRA font-bold text-2xl text-center text-DARKTHEME_LIGHT_GREEN_COLOR p-3 relative top-[150px]",children:n})]})},ro=()=>E("div",{className:"flex-col justify-center bg-DARKTHEME_BACKGROUND_COLOR w-full",children:[s("div",{className:"flex justify-around pt-[150px] pb-[20px] whitespace-pre-line",children:s(io,{gameMode:"Classic",infoText:so})}),s(W,{})]});function ao(){ge(H.WORK_IN_PROGRESS)}const lo=()=>s(ee,{eventType:H.WORK_IN_PROGRESS}),co=Q(()=>{const t=q();return E("div",{className:"flex justify-center mt-30 pt-10",children:[s("div",{className:"flex flex-col",children:[{name:"Play game",url:ue},{name:"Scoreboard",url:"Scoreboard modal"},{name:"How to play",url:qe},{name:"Credits",url:Qe}].map(n=>s("div",{className:"my-2",children:s(P,{text:n.name,onClick:async()=>{n.url==="TODO"?ao():_.isDevelopmentMode&&n.url===ue?(uo(),await _.gameStore.initGameStore(),t(z)):n.url===ue?(await _.gameStore.initGameStore(),t(n.url)):n.url==="Scoreboard modal"?it():t(n.url)}})},n.name))}),s(W,{}),s(rt,{})]})});function uo(){const t=new he("Tic",w.HTML),e=new he("Tac",w.JS),n=new he("Toe",w.TS);_.playersStore.players.push(t,e,n);const i=new me(60,128,64,64,"Classic");localStorage.setItem("Game mode",JSON.stringify(i))}const po={title:"Watch how to play"},ho=()=>s("div",{children:s(jt,{url:"https://vimeo.com/247851862",controls:!0})}),mo=()=>E("div",{className:"flex items-center justify-center flex-col text-DARKTHEME_LIGHT_GREEN_COLOR",children:[s("header",{className:"text-center mb-2",children:s("h2",{className:"text-2xl mb-2",children:po.title})}),s(ho,{}),E("footer",{className:"flex flex-row justify-between text-center mt-4 whitespace-pre-line",children:[s("div",{className:"mr-5",children:s("a",{target:"_blank",href:"https://www.wikihow.com/Play-Carcassonne",rel:"noreferrer",children:s(P,{text:`Read
 how to play`})})}),s("div",{children:s(fe,{to:J,children:s(P,{text:`Back
 to Homepage`})})})]}),s(W,{})]}),A=Ft("http://localhost:5001"),fo=[{element:s(co,{}),url:J},{element:s(oo,{}),url:z},{element:s(mo,{}),url:qe},{element:s(Gn,{}),url:ue},{element:s(Fn,{}),url:Qe},{element:s(ro,{}),url:et},{element:s($n,{}),url:tt}],go=[z],Eo=()=>{const{pathname:t}=kt(),e=go.includes(t);return S.exports.useEffect(()=>{A.emit("sendMessage","Hello from Client"),A.emit("meeplePlacementMessage","Meeple placed")},[]),S.exports.useEffect(()=>{A.on("receiveMessage",n=>{console.log(n)}),A.on("messageToClientAfterMeeplePlacement",n=>{console.log(n)})},[]),E("div",{className:"h-full min-h-screen bg-DARKTHEME_BACKGROUND_COLOR ",children:[e?null:s(Ln,{}),s("div",{className:"relative z-50",children:s(Kt,{children:fo.map(n=>s(Yt,{path:n.url,element:n.element},n.url))})}),e?s("div",{className:"bg-DARKTHEME_BACKGROUND_COLOR"}):s(Nn,{}),s(lo,{})]})},To="modulepreload",Xe={},_o="./",yo=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${_o}${i}`,i in Xe)return;Xe[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":To,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((m,g)=>{c.addEventListener("load",m),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},Co=t=>{t&&t instanceof Function&&yo(()=>import("./web-vitals.67dce932.js"),[]).then(({getCLS:e,getFID:n,getFCP:i,getLCP:a,getTTFB:l})=>{e(t),n(t),i(t),a(t),l(t)}).catch(e=>console.error(e))},Ro=()=>s(Eo,{});Bt.render(s($t.StrictMode,{children:s(Vt,{children:s(Ro,{})})}),document.getElementById("root"));Co();
